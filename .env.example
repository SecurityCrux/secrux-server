# Secrux Server standalone docker-compose environment
# Copy to `.env` and adjust for your environment.

# -----------------------------------------------------------------------------
# Ports
# -----------------------------------------------------------------------------
SECRUX_SERVER_PORT=8080
KEYCLOAK_PORT=8081
POSTGRES_PORT=5432
KAFKA_HOST_PORT=19092

# -----------------------------------------------------------------------------
# Postgres (control plane)
# -----------------------------------------------------------------------------
POSTGRES_DB=secrux
POSTGRES_USER=secrux
POSTGRES_PASSWORD=secrux

# -----------------------------------------------------------------------------
# Kafka
# -----------------------------------------------------------------------------
SECRUX_KAFKA_BOOTSTRAP_SERVERS=kafka:29092

# -----------------------------------------------------------------------------
# Keycloak (dev)
# -----------------------------------------------------------------------------
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
SECRUX_AUTH_MODE=KEYCLOAK
SECRUX_AUTH_ISSUER_URI=http://keycloak:8081/realms/secrux
SECRUX_AUTH_AUDIENCE=secrux-api
SECRUX_KEYCLOAK_ADMIN_BASE_URL=http://keycloak:8081
SECRUX_KEYCLOAK_ADMIN_REALM=secrux
SECRUX_KEYCLOAK_ADMIN_CLIENT_ID=secrux-admin
SECRUX_KEYCLOAK_ADMIN_CLIENT_SECRET=changeme

# -----------------------------------------------------------------------------
# Secrux application
# -----------------------------------------------------------------------------
SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/secrux
SPRING_DATASOURCE_USERNAME=secrux
SPRING_DATASOURCE_PASSWORD=secrux

# Encryption key used to encrypt stored credentials (REQUIRED for production)
SECRUX_CRYPTO_SECRET=change-me-in-production

# Optional: connect to AI service (leave empty to disable AI calls)
SECRUX_AI_SERVICE_BASE_URL=
SECRUX_AI_SERVICE_TOKEN=

# Optional: enable Executor Gateway inside the server
EXECUTOR_GATEWAY_ENABLED=true
EXECUTOR_GATEWAY_PORT=5155
EXECUTOR_GATEWAY_CERTIFICATE_PATH=
EXECUTOR_GATEWAY_PRIVATE_KEY_PATH=
